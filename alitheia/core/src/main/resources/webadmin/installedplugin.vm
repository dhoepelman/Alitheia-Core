#set($section=3)
#parse("header.inc")
#parse("menu.inc")

        <div id="contents">
          <div id="table">
            <h2>$tr.label("plugins_mngm")</h2>
            <form id="metrics" name="metrics" method="post" action="/index">
              
              ## Display plugin info
              <fieldset>
                <legend>$plugin.getPluginName()</legend>
                <table>
                  <thead>
                    <tr class="head">
                      <td class="head" style="width: 80px;">Status</td>
                      <td class="head" style="width: 30%;">Name</td>
                      <td class="head" style="width: 40%;">Class</td>
                      <td class="head">Version</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Installed</td>
                      <td>$plugin.getPluginName()</td>
                      <td>$plugin.getServiceReference()</td>
                      <td>$plugin.getPluginVersion()</td>
                    </tr>
                    <tr>
                      <td colspan="4">
                        <input type="button" class="install" style="width: 100px;" value="Plug-ins list" onclick="javascript:document.getElementById('$params.get("reqParHashcode")').value='';document.metrics.submit();">
                        <input type="button" class="install" style="width: 100px;" value="Uninstall" onclick="javascript:document.getElementById('$params.get("reqParAction")').value='$params.get("actValUninstall")';document.getElementById('$params.get("reqParHashcode")').value='$plugin.getHashcode()';document.metrics.submit();">
                        <input type="button" class="install" style="width: 100px;" value="Synchronise" onclick="javascript:document.getElementById('$params.get("reqParAction")').value='$params.get("actValSync")';document.getElementById('$params.get("reqParHashcode")').value='$plugin.getHashcode()';document.metrics.submit();">
                      </td>
                    </tr>
                  </tbody>
                </table>
                
                ## Display supported metrics
                <fieldset>
                  <legend>Supported metrics</legend>
                  <table>
                    <thead>
                      <tr class="head">
                        <td class="head" style="width: 10%;">Id</td>
                        <td class="head" style="width: 25%;">Name</td>
                        <td class="head" style="width: 25%;">Type</td>
                        <td class="head" style="width: 40%;">Description</td>
                      </tr>
                    </thead>
                    <tbody>
                      #if ($metrics.isEmpty())
                      <tr>
                        <td colspan="4" class="noattr">
                          This plug-in does not support metrics."
                        </td>
                      </tr>
                      #else
                      #foreach ($metric in $metricList) 
                      <tr>
                        <td>$metric.getId()</td>
                        <td>$metric.getMnemonic()</td>
                        <td>$metric.getMetricType().getType()</td>
                        <td>$metric.getDescription()</td>
                      </tr>
                      #end
                      #end
                    </tbody>
                  </table>
                </fieldset>
                
                ## Display configuration properties
                <fieldset>
                  <legend>Configuration properties</legend>
                  <table>
                    <thead>
                      <tr class="head">
                        <td class="head" style="width: 30%;">Name</td>
                        <td class="head" style="width: 20%;">Type</td>
                        <td class="head" style="width: 50%;">Value</td>
                      </tr>
                    </thead>
                    <tbody>
                      #if ($configPropList.isEmpty())
                      <tr>                            
                        <td colspan="3" class="noattr">This plug-in has no configuration properties.</td>
                      </tr>
                      #else
                      #foreach ($configProp in $configPropList)
                      <tr> 
                        <td class="trans" title="$configProp.getMsg()">
                          <img src="/edit.png" alt="[Edit]" />&nbsp;
                          $configProp.getName()
                        </td>
                        <td class="trans">
                          $configProp.getType()
                        </td>
                        <td class="trans">
                          $configProp.getValue()
                        </td>
                      </tr>
                      #end
                      #end
                      <tr>
                        <td colspan="3">
                          <input type="button" class="install" style="width: 100px;" value="Add property" onclick="javascript:document.getElementById('$params.get("reqParAction")').value='$params.get("actValReqAddProp")';document.metrics.submit();">
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </fieldset>
              </fieldset>
              <input type="hidden" id="$params.get("reqParHashcode")" name="$params.get("reqParHashcode")" value="$plugin.getHashcode()">
            </form>
          </div>
        </div>
                
#parse("sidebar.inc")
#parse("footer.inc")